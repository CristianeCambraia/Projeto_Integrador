{% extends 'base.html' %}

{% block content %}
<div style="max-width: 800px; margin: 20px auto; padding: 20px;">
    <h2 style="color: #333; margin-bottom: 20px;">üìã Detalhes da Notifica√ß√£o</h2>
    
    <div style="background: #f8f9fa; border-left: 4px solid {% if tipo == 'VALIDADE' %}#ffc107{% elif tipo == 'ESTOQUE_CRITICO' %}#dc3545{% else %}#17a2b8{% endif %}; padding: 20px; margin-bottom: 20px; border-radius: 5px;">
        <h3 style="margin: 0 0 10px 0; color: {% if tipo == 'VALIDADE' %}#856404{% elif tipo == 'ESTOQUE_CRITICO' %}#721c24{% else %}#0c5460{% endif %};">
            {% if tipo == 'VALIDADE' %}‚ö†Ô∏è Produto Pr√≥ximo da Validade
            {% elif tipo == 'ESTOQUE_CRITICO' %}üî¥ Estoque Cr√≠tico
            {% else %}üì¶ Baixa Sa√≠da{% endif %}
        </h3>
        <p style="margin: 0; font-size: 14px;">{{ mensagem }}</p>
    </div>

    <div style="background: white; border: 1px solid #ddd; border-radius: 8px; padding: 20px;">
        <h4 style="margin: 0 0 15px 0; color: #333;">Informa√ß√µes do Produto</h4>
        
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
            <div>
                <label style="font-weight: bold; color: #666; display: block; margin-bottom: 5px;">C√≥digo do Produto:</label>
                <span style="font-size: 16px;">{{ produto.id }}</span>
            </div>
            <div>
                <label style="font-weight: bold; color: #666; display: block; margin-bottom: 5px;">Nome:</label>
                <span style="font-size: 16px;">{{ produto.nome }}</span>
            </div>
        </div>

        <div style="margin-bottom: 20px;">
            <label style="font-weight: bold; color: #666; display: block; margin-bottom: 5px;">Descri√ß√£o:</label>
            <span style="font-size: 16px;">{{ produto.descricao|default:"Sem descri√ß√£o" }}</span>
        </div>

        {% if tipo == 'VALIDADE' %}
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
            <div>
                <label style="font-weight: bold; color: #666; display: block; margin-bottom: 5px;">Data de Cadastro:</label>
                <span style="font-size: 16px;">{{ produto.data_hora|date:"d/m/Y" }}</span>
            </div>
            <div>
                <label style="font-weight: bold; color: #666; display: block; margin-bottom: 5px;">Data de Validade:</label>
                <span style="font-size: 16px; color: #dc3545; font-weight: bold;">{{ produto.validade|date:"d/m/Y" }}</span>
            </div>
        </div>
        <div style="background: #fff3cd; border: 1px solid #ffeaa7; padding: 15px; border-radius: 5px; margin-bottom: 20px;">
            <strong style="color: #856404;">‚ö†Ô∏è Aten√ß√£o:</strong>
            <p style="margin: 5px 0 0 0; color: #856404;">Este produto vence em {{ dias_restantes }} dias. Priorize a sa√≠da deste produto para evitar perdas por vencimento.</p>
        </div>
        {% endif %}

        {% if tipo == 'ESTOQUE_CRITICO' %}
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
            <div>
                <label style="font-weight: bold; color: #666; display: block; margin-bottom: 5px;">Quantidade Atual:</label>
                <span style="font-size: 18px; color: #dc3545; font-weight: bold;">{{ produto.quantidade }} unidades</span>
            </div>
            <div>
                <label style="font-weight: bold; color: #666; display: block; margin-bottom: 5px;">N√≠vel M√≠nimo:</label>
                <span style="font-size: 16px;">5 unidades</span>
            </div>
        </div>
        <div style="background: #f8d7da; border: 1px solid #f5c6cb; padding: 15px; border-radius: 5px; margin-bottom: 20px;">
            <strong style="color: #721c24;">üî¥ Estoque Cr√≠tico:</strong>
            <p style="margin: 5px 0 0 0; color: #721c24;">Verifique a disponibilidade com fornecedores e programe a reposi√ß√£o urgente deste produto.</p>
        </div>
        {% endif %}

        {% if tipo == 'BAIXA_SAIDA' %}
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
            <div>
                <label style="font-weight: bold; color: #666; display: block; margin-bottom: 5px;">Data de Entrada:</label>
                <span style="font-size: 16px;">{{ produto.data_hora|date:"d/m/Y" }}</span>
            </div>
            <div>
                <label style="font-weight: bold; color: #666; display: block; margin-bottom: 5px;">Tempo sem Movimenta√ß√£o:</label>
                <span style="font-size: 16px; color: #17a2b8; font-weight: bold;">{{ dias_parado }} dias</span>
            </div>
        </div>
        <div style="background: #d1ecf1; border: 1px solid #bee5eb; padding: 15px; border-radius: 5px; margin-bottom: 20px;">
            <strong style="color: #0c5460;">üì¶ Sugest√£o:</strong>
            <p style="margin: 5px 0 0 0; color: #0c5460;">Considere criar promo√ß√µes ou estrat√©gias de venda para liberar este estoque parado e evitar perdas.</p>
        </div>
        {% endif %}

        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
            <div>
                <label style="font-weight: bold; color: #666; display: block; margin-bottom: 5px;">Pre√ßo:</label>
                <span style="font-size: 16px;">R$ {{ produto.preco }}</span>
            </div>
            <div>
                <label style="font-weight: bold; color: #666; display: block; margin-bottom: 5px;">Fornecedor:</label>
                <span style="font-size: 16px;">{{ produto.fornecedor.nome|default:"N√£o informado" }}</span>
            </div>
        </div>
    </div>

    <div style="text-align: center; margin-top: 30px;">
        <a href="{% url 'lista_produtos' %}" style="background: #007bff; color: white; padding: 10px 20px; text-decoration: none; border-radius: 5px; margin-right: 10px;">Ver Todos os Produtos</a>
        <button onclick="history.back()" style="background: #6c757d; color: white; padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer;">Voltar</button>
    </div>
</div>
{% endblock %}