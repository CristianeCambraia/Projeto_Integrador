{% extends 'base.html' %}

{% block content %}
<div class="lista-container">
    <h2 class="titulo">Fornecedores Cadastrados</h2>
    <div class="filtro-orcamentos">
        <form method="get">
            <input type="text" name="filtro" placeholder="Filtrar por Nome ou CNPJ" value="{{ filtro|default:'' }}">
            <button type="submit" class="btn-filtrar">Filtrar</button>
            <a href="{% url 'lista_fornecedores' %}" class="btn-limpar" style="background: #6c757d;">Limpar</a>
        </form>
    </div>

    <ul class="lista">
        {% for f in fornecedores %}
            <li class="fornecedor-item">
                <div class="fornecedor-info">
                    <span class="fornecedor-nome">{{ f.nome }}</span>
                    <span class="status-fornecedor {% if f.ativo %}ativo{% else %}inativo{% endif %}">
                        {% if f.ativo %}Ativo{% else %}Inativo{% endif %}
                    </span>
                </div>
                <div class="fornecedor-email">{{ f.email }}</div>
                <div class="fornecedor-acoes">
                    <a href="{% url 'editar_fornecedor' f.id %}" class="btn-editar">Editar</a>
                    <a href="{% url 'alternar_status_fornecedor' f.id %}" class="btn-status">
                        {% if f.ativo %}Desativar{% else %}Ativar{% endif %}
                    </a>
                </div>
            </li>
        {% empty %}
            <li>Nenhum fornecedor cadastrado.</li>
        {% endfor %}
    </ul>

    <div style="display: flex; gap: 10px; justify-content: center;">
        <a href="{% url 'fornecedores' %}" class="btn-salvar">Novo Fornecedor</a>
        <a href="{% url 'fornecedores' %}" class="btn-voltar">Voltar â¤´</a>
    </div>
</div>
{% endblock %}
