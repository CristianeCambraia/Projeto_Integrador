{% extends 'base.html' %}
{% load static %}

{% block titulo_pagina %}Login{% endblock titulo_pagina %}

{% block content %}
<div class="login-container">
  <div class="login-side">
    <img src="{% static 'images/logo_insumed.png' %}" alt="Logo Insumed" class="logo-side">
  </div>

  <div class="login-box">
    <h1>Login</h1>
    <form method="post">
      {% csrf_token %}

      <div class="form-group">
        {{ form.email }}
        {% if form.email.errors %}
        <div class="error">
          {% for erro in form.email.errors %}
          <div>{{ erro }}</div>
          {% endfor %}
        </div>
        {% endif %}
      </div>

      <div class="form-group">
        {{ form.senha }}
        {% if form.senha.errors %}
        <div class="error">
          {% for erro in form.senha.errors %}
          <div>{{ erro }}</div>
          {% endfor %}
        </div>
        {% endif %}
      </div>

      <div class="form-group form-check">
        {{ form.remember }}
        <label for="{{ form.remember.id_for_label }}">Manter‑me conectado</label>
        {% if form.remember.errors %}
        <div class="error">
          {% for erro in form.remember.errors %}
          <div>{{ erro }}</div>
          {% endfor %}
        </div>
        {% endif %}
      </div>

      {% if form.non_field_errors %}
      <div class="error general-errors">
        {% for erro in form.non_field_errors %}
        <div>{{ erro }}</div>
        {% endfor %}
      </div>
      {% endif %}
      
      {% if messages %}
      <div class="messages" style="margin-bottom: 25px;">
        {% for message in messages %}
        <div class="alert alert-{{ message.tags }}" style="margin-bottom: 15px;">
          {{ message }}
        </div>
        {% endfor %}
      </div>
      {% endif %}

      <button class="btn-login" type="submit">Login</button>
    </form>

    <p><a href="{% url 'recuperar_senha' %}">Esqueci minha senha</a></p>
    <p>Não possui uma conta? <a href="{% url 'cadastrar_usuario' %}">Cadastre‑se</a></p>
  </div>
</div>
{% endblock content %}